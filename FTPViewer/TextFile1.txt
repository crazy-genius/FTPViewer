        //private void downloadFromFTP(FTPSrvClass _ftp, ProxyClass _proxy)
        //{
        //    try
        //    {
        //        WebClient client = new WebClient();                
        //        client.BaseAddress = new Uri(String.Format(@"ftp://{0}//{1}", _ftp.FtpServer, _ftp.FtpDir)).ToString();
        //        client.Credentials = new NetworkCredential(_ftp.FtpLogin, _ftp.FtpPassword);
        //        if (_proxy == null)
        //        {
        //            client.Proxy = null;
        //        }
        //        else 
        //        client.Proxy = new WebProxy(_proxy.ProxyServer, _proxy.ProxyPort)
        //        {
        //            Credentials = new NetworkCredential(_proxy.ProxyLogin, _proxy.ProxyPassword, "")
        //        };
        //        client.DownloadProgressChanged += new DownloadProgressChangedEventHandler(DownloadProgressCallback);
        //        client.DownloadFileAsync(new Uri(String.Format(@"ftp://{0}//{1}{2}", _ftp.FtpServer, _ftp.FtpDir, _ftp.FtpFileName)), string.Format(@"C:\#FTP\{0}", _ftp.FtpFileName));
        //    }
        //    catch (Exception ex)
        //    {
        //        logAdd(ex.Message);  // Пожалуемся пользователю.
        //    }
        //}